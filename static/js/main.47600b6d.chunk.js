(this["webpackJsonpsound-test"]=this["webpackJsonpsound-test"]||[]).push([[0],{174:function(e,t,a){e.exports=a(369)},192:function(e,t,a){},193:function(e,t,a){},368:function(e,t,a){},369:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(146),u=a(58),o=a.n(u),l=a(43),i=a(36),s=a(18),f=a.n(s),m=a(41),d=a(85),p=a.n(d);p.a.initializeApp({apiKey:"AIzaSyAAgH9oVPY07f4W64q3zBIqosBVH3Irfp0",authDomain:"knight-bus.firebaseapp.com",databaseURL:"https://knight-bus.firebaseio.com",projectId:"knight-bus",storageBucket:"knight-bus.appspot.com",messagingSenderId:"699821551493",appId:"1:699821551493:web:a944b29b62db1445"});var v=p.a.firestore(),y=function(){var e=Object(m.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.age,n=t.frequency,e.next=3,v.collection("frequency").add({age:a,frequency:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.collection("frequency").get().then((function(e){if(e.forEach){var t=[];return e.forEach((function(e){return t.push(e.id)})),t}return e}));case 2:return t=e.sent,a=t.map((function(e){return v.collection("frequency").doc(e).get({source:"server"})})),e.abrupt("return",Promise.all(a).then((function(e){return e.map((function(e){return e.data()}))})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=(a(192),a(193),function(){return r.a.createElement("div",{className:"lds-dual-ring"})}),h=function(){var e=Object(n.useState)({age:null,frequency:null,targets:[]}),t=Object(i.a)(e,2),a=t[0],c=t[1],u=Object(n.useState)(),o=Object(i.a)(u,2),s=o[0],d=o[1],p=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.age||!a.frequency){e.next=6;break}return d("loading"),e.next=4,y(a);case 4:d("success"),a.targets.forEach((function(e){e.value=""}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("select",{name:"age",defaultValue:"",onChange:function(e){a.targets[0]=e.target,c(Object(l.a)({},a,{age:e.target.value}))}},r.a.createElement("option",{disabled:!0,value:""},"Qual a sua idade?"),new Array(110).fill(0).map((function(e,t){return r.a.createElement("option",{key:"age-".concat(e+t),value:t+1},t+1)}))),r.a.createElement("select",{defaultValue:"",onChange:function(e){a.targets[1]=e.target,c(Object(l.a)({},a,{frequency:e.target.value}))},name:"frequency"},r.a.createElement("option",{disabled:!0,value:""},"Em qual frequ\xeancia voc\xea parou?"),new Array(18).fill(0).map((function(e,t){return r.a.createElement("option",{key:"frequency-".concat(e+t),value:5e3+1e3*t},5e3+1e3*t," ","Hz")}))),r.a.createElement("button",{onClick:p,type:"button"},"loading"===s?r.a.createElement(b,null):"Salvar")))},E=function(){var e,t=new AudioContext,a=t.createOscillator(),n=t.createGain();a.connect(n),n.connect(t.destination);return{start:function(t){var n=t.frequencyStart,r=void 0===n?5e3:n,c=t.time,u=void 0===c?2e3:c,o=t.increase,l=void 0===o?1e3:o,i=t.listener;a.start(),a.frequency.value=r,i({event:"start",frequency:a.frequency.value}),e=setInterval((function(){a.frequency.value+=l,i({event:"update",frequency:a.frequency.value}),a.frequency.value>21e3&&(clearInterval(e),i({event:"stop",frequency:a.frequency.value}))}),u)},stop:function(){a.stop(),a=t.createOscillator(),n=t.createGain(),a.connect(n),n.connect(t.destination),clearInterval(e)}}}(),q=a(21),w=["red","green","pink","yellow"],k=function(e){var t=e.data;return r.a.createElement(q.d,{width:Math.min(600,window.innerWidth-20),height:500,margin:{top:20,right:20,bottom:20,left:20}},r.a.createElement(q.f,{type:"number",dataKey:"age",name:"Idade",unit:" anos"}),r.a.createElement(q.g,{type:"number",dataKey:"frequency",name:"Frequencia",unit:" Hz"}),r.a.createElement(q.a,null),r.a.createElement(q.e,{cursor:{strokeDasharray:"3 3"}}),r.a.createElement(q.c,{name:"A school",data:t,fill:"#8884d8"},t.map((function(e,t){return r.a.createElement(q.b,{key:"cell-".concat(e),fill:w[t%w.length]})}))))},O=(a(368),function(){var e=Object(n.useState)({frequency:0}),t=Object(i.a)(e,2),a=t[0],c=t[1],u=Object(n.useState)([]),o=Object(i.a)(u,2),s=o[0],f=o[1];return s.length||g().then((function(e){var t=e.map((function(e){return Object(l.a)({},e,{age:parseInt(e.age,10),frequency:parseInt(e.frequency,10)})}));f(t)})),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title"},"Perdendo audi\xe7\xe3o"),r.a.createElement("span",{className:"info"},"Para mais informa\xe7\xf5es assista esse video"," ",r.a.createElement("a",{href:"https://www.youtube.com/watch?v=uoxtAXN2tnI"},"aqui")),r.a.createElement("div",{className:"frequency"},a.frequency," ","Hz"),r.a.createElement("div",{className:"controls"},r.a.createElement("button",{type:"button",onClick:function(){E.start({listener:c})}},"Iniciar"),r.a.createElement("button",{type:"button",onClick:E.stop},"Parar")),r.a.createElement("div",{className:"form"},r.a.createElement("h3",{className:"title"},"At\xe9 que frequ\xeancia voc\xea escuta?"),r.a.createElement(h,null)),r.a.createElement("div",{className:"chart"},r.a.createElement("div",null,s.length?r.a.createElement(k,{data:s}):null)))});c.a.initialize("UA-146904576-1"),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.47600b6d.chunk.js.map